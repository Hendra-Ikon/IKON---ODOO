<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="ikon_employee.Timesheet" owl="1">
        <Layout display="display">
            <div class="wrapper">
                <form class="timesheetForm" id="timesheetForm">
                    <div class="tableWrapper" style="overflow:auto">
                        <table style="width:100%" class="table">
                            <thead>
                                <tr>
                                    <th style="width:2%" class="center">
                                        <input type="checkbox" style="display:none"/>
                                    </th>
                                    <th style="width:24%" id="projectName">Project Name</th>
                                    <th style="width:18%" id="activityName">Activity Name</th>
                                    <t t-foreach="timesheet_data.date" t-as="day" t-key="day.id">
                                        <th class="center" style="width:8%">
                                            <t t-esc="formatDate(day.date)"/>
                                        </th>
                                    </t>

                                </tr>
                            </thead>
                            <tbody>
                                <tr class="odd">
                                    <td id="">
                                        <input class="toDelete" type="checkbox" name="initialRows[0][toDelete]"
                                               id="initialRows_0_toDelete"/>
                                    </td>
                                    <td>
                                        <select class="projectActivity" style="width:225px"
                                                name="projectName"
                                                id="projectName">
                                            <option value="-1">-- Select --</option>
                                            <t t-foreach="timesheet_data.project" t-as="project" t-key="project.id">
                                                <option t-att-value="project.project_id[0]">
                                                    <t t-esc="project.project_id[1]"/>
                                                </option>
                                            </t>
                                        </select>
                                    </td>

                                    <td>
                                        <select class="projectActivity" style="width:225px"
                                                name="activityProject"
                                                id="initialRows_0_projectActivityName">
                                            <option value="-1">-- Select --</option>
                                            <t t-foreach="timesheet_data.activity" t-as="project" t-key="project.id">
                                                <option t-att-value="project.id">
                                                    <t t-esc="project.name"/>
                                                </option>
                                            </t>
                                        </select>
                                        <input type="hidden" name="initialRows[0][projectActivityId]"
                                               id="initialRows_0_projectActivityId"/>
                                    </td>
                                    <t t-foreach="hours" t-as="hour" t-key="hour.id">
                                        <td class="comments">
                                        <input align="center" class="timeBox" type="text" name="initialRows[0][0]"
                                               id="initialRows_0_0" t-model="hour.unit_amount" value=""/>
                                        <img id="commentBtn_0_0" class="commentIcon"
                                             src="http://app.ikonsultan.com/ikonhrm/symfony/web/webres_5cc83b08d42f86.60948938/themes/default/images/comment.png"/><!--                                </span>-->
                                        <input type="hidden" name="taskId" t-model="state.task_id" t-att-value="'1'"
                                               value="'1'"
                                               id="taskId"/>
                                        <input type="hidden" name="projectId" t-model="state.project_id"
                                               t-attf-value="dataProjectId" value="dataProjectId"
                                               id="projectId"/>
                                    </td>
                                    </t>

                                </tr>

                                <tr id="extraRows" style="display: none;"></tr>

                            </tbody>
                        </table>
                    </div> <!-- tableWrapper -->

                    <div class="bottom">
                        <p class="required">
                            <em>*</em>
                            Deleted project activities are not editable
                        </p>
                        <p class="button-list">
                            <input type="submit" class="submit" value="Save" name="btnSave" id="submitSave"
                                   t-on-click="() => send(state, hours)"/>
                            <!--                        <input type="button" class="add" id="btnAddRow" value="Add Row" name="btnAddRow"/>-->
                            <!--                        <input type="button" class="delete" id="submitRemoveRows" value="Remove Rows"-->
                            <!--                               name="btnRemoveRows"/>-->
                            <input class="reset" id="btnReset" value="Reset" type="button"
                                   onclick="document.location.href='/ikonhrm/symfony/web/index.php/time/editTimesheet/timesheetId/23014/employeeId/279/actionName/viewMyTimesheet';"/>
                            <input class="cancel" id="btnBack" value="Cancel" type="button"
                                   onclick="document.location.href='/ikonhrm/symfony/web/index.php/time/viewMyTimesheet/timesheetStartDate/2024-03-04/employeeId/279';"/>
                        </p>

                    </div>
                </form>
            </div>
        </Layout>
    </t>
</templates>
